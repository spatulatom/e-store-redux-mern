{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{deleteUser,listUsers}from'../actions/userActions';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{USER_DETAILS_RESET}from'../constants/userConstants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserListScreen(props){const navigate=useNavigate();const userList=useSelector(state=>state.userList);const{loading,error,users}=userList;const userDelete=useSelector(state=>state.userDelete);const{loading:loadingDelete,error:errorDelete,success:successDelete}=userDelete;const dispatch=useDispatch();useEffect(()=>{dispatch(listUsers());dispatch({type:USER_DETAILS_RESET});},[dispatch,successDelete]);const deleteHandler=user=>{if(window.confirm('Are you sure?')){dispatch(deleteUser(user._id));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"allcomponents\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),successDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"success\",children:\"User Deleted Successfully\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"IS ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?'YES':'NO'}),/*#__PURE__*/_jsx(\"td\",{children:user.isSeller?'YES':' NO'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:()=>navigate(\"/user/\".concat(user._id,\"/edit\")),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:()=>deleteHandler(user),children:\"Delete\"})]})]},user._id))})]})]});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useNavigate","deleteUser","listUsers","LoadingBox","MessageBox","USER_DETAILS_RESET","jsx","_jsx","jsxs","_jsxs","UserListScreen","props","navigate","userList","state","loading","error","users","userDelete","loadingDelete","errorDelete","success","successDelete","dispatch","type","deleteHandler","user","window","confirm","_id","className","children","variant","map","name","email","isAdmin","isSeller","onClick","concat"],"sources":["D:/projects/e-store-redux-mern/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { deleteUser, listUsers } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_DETAILS_RESET } from '../constants/userConstants';\r\n\r\nexport default function UserListScreen(props) {\r\n  const navigate = useNavigate();\r\n  const userList = useSelector((state) => state.userList);\r\n  const { loading, error, users } = userList;\r\n\r\n  const userDelete = useSelector((state) => state.userDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = userDelete;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listUsers());\r\n    dispatch({\r\n      type: USER_DETAILS_RESET,\r\n    });\r\n  }, [dispatch, successDelete]);\r\n  const deleteHandler = (user) => {\r\n    if (window.confirm('Are you sure?')) {\r\n      dispatch(deleteUser(user._id));\r\n    }\r\n  };\r\n  return (\r\n    <div className='allcomponents'>\r\n      <h1>Users</h1>\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n      {successDelete && (\r\n        <MessageBox variant=\"success\">User Deleted Successfully</MessageBox>\r\n      )}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>NAME</th>\r\n              <th>EMAIL</th>\r\n              {/* <th>IS SELLER</th> */}\r\n              <th>IS ADMIN</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n              <tr key={user._id}>\r\n                <td>{user._id}</td>\r\n                <td>{user.name}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.isAdmin ? 'YES' : 'NO'}</td>\r\n                <td>{user.isSeller ? 'YES' : ' NO'}</td>\r\n               \r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => navigate(`/user/${user._id}/edit`)}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => deleteHandler(user)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}